<button
  [disabled]="disabled || isLoading"
  [ngClass]="getButtonClasses()"
  class="lib-btn"
  [attr.title]="tooltip"
  (click)="handleClick()"
>

  <!-- Icon-only button -->
  <ng-container *ngIf="isIconOnly; else content">
    <span *ngIf="sanitizedIcon" class="icon" [innerHTML]="sanitizedIcon"></span>
    <i *ngIf="!sanitizedIcon && icon" [class]="icon"></i>
  </ng-container>

  <!-- Button with content -->
  <ng-template #content>
    <!-- Left Icon -->
    <ng-container *ngIf="icon && iconPosition === 'left' && !isLoading">
      <span *ngIf="sanitizedIcon" class="icon left" [innerHTML]="sanitizedIcon"></span>
      <i *ngIf="!sanitizedIcon && icon" [class]="'icon left ' + icon"></i>
    </ng-container>

    <!-- Label -->
    <span *ngIf="(!isIconOnly && label)">{{ label }}</span>

    <!-- Right Icon -->
    <ng-container *ngIf="icon && iconPosition === 'right' && !isLoading">
      <span *ngIf="sanitizedIcon" class="icon right" [innerHTML]="sanitizedIcon"></span>
      <i *ngIf="!sanitizedIcon && icon" [class]="'icon right ' + icon"></i>
    </ng-container>

      <!-- Loading Spinner -->
      <ng-container *ngIf="isLoading">
        <lib-loading-spinner [LoadingColor]="LoadingColor"></lib-loading-spinner>
      </ng-container>
      
  </ng-template>
</button>
