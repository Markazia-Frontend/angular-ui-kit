<div class="segmented-control" [ngClass]="{
  small: size === 'sm',
  medium: size === 'md',
  large: size === 'lg'
}">
  <div *ngFor="let segment of segments; let i = index" class="segment" [ngClass]="{
      selected: selectedIndex === i,
      disabled: disabled,
      small: size === 'sm',
      medium: size === 'md',
      large: size === 'lg'
    }" [ngStyle]="getSegmentStyle()" (click)="onSegmentChange(i)">
    <div *ngIf="segment.icon" class="icon" [innerHTML]="getSanitizedIcon(segment.icon)"></div>
    <span>{{ segment.label }}</span>
  </div>
</div>