<div class="password-container">
  <label *ngIf="label" for="password" class="password-label">{{label}}</label>

  <div class="password-input-container">
    <input type="password" id="password"
      [ngClass]="{'password-weak': passwordStrength === 'weak', 'password-medium': passwordStrength === 'medium', 'password-good': passwordStrength === 'good', 'password-great': passwordStrength === 'great'}"
      (input)="onPasswordChange($event)" [placeholder]="placeholder" [(ngModel)]="password" />

    <button [class]="passwordVisible ? 'icon-eye-off' : 'icon-eye'" type="button" (click)="togglePasswordVisibility()" class="password-toggle">
    </button>
  </div>

  <div *ngIf="password" class="password-strength">
    <div class="password-strength-bar-container">
      <div class="password-strength-bar" [ngClass]="passwordStrength"></div>

      <div class="password-strength-bar" [ngClass]="passwordStrength"></div>

      <div class="password-strength-bar" [ngClass]="passwordStrength"></div>

      <div class="password-strength-bar" [ngClass]="passwordStrength"></div>
    </div>
    <div class="password-strength-label">
      <div style="display: flex;gap: 3px;align-items: center;">
        <span
          [ngClass]="{'label-weak': passwordStrength === 'weak', 'label-medium': passwordStrength === 'medium', 'label-good': passwordStrength === 'good', 'label-great': passwordStrength === 'great'}"
          class="capitalized">{{ passwordStrength }}</span>

          <svg (click)="toggleTooltip()" [ngClass]="passwordStrength === 'good' || passwordStrength === 'great' ?'hide':'show' " class="information-circle" width="20" height="20" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M6.99996 2.33329C4.42263 2.33329 2.33329 4.42263 2.33329 6.99996C2.33329 9.57729 4.42263 11.6666 6.99996 11.6666C9.57729 11.6666 11.6666 9.57729 11.6666 6.99996C11.6666 4.42263 9.57729 2.33329 6.99996 2.33329ZM1.16663 6.99996C1.16663 3.7783 3.7783 1.16663 6.99996 1.16663C10.2216 1.16663 12.8333 3.7783 12.8333 6.99996C12.8333 10.2216 10.2216 12.8333 6.99996 12.8333C3.7783 12.8333 1.16663 10.2216 1.16663 6.99996ZM6.41663 4.66663C6.41663 4.34446 6.67779 4.08329 6.99996 4.08329H7.00579C7.32796 4.08329 7.58913 4.34446 7.58913 4.66663C7.58913 4.98879 7.32796 5.24996 7.00579 5.24996H6.99996C6.67779 5.24996 6.41663 4.98879 6.41663 4.66663ZM5.83329 6.99996C5.83329 6.67779 6.09446 6.41663 6.41663 6.41663H6.99996C7.32213 6.41663 7.58329 6.67779 7.58329 6.99996V8.74996C7.90546 8.74996 8.16663 9.01113 8.16663 9.33329C8.16663 9.65546 7.90546 9.91663 7.58329 9.91663H6.99996C6.67779 9.91663 6.41663 9.65546 6.41663 9.33329V7.58329C6.09446 7.58329 5.83329 7.32213 5.83329 6.99996Z" fill="#727272"/>
            </svg>
            
      </div>
      <div *ngIf="isTooltipVisible && (passwordStrength === 'weak' || passwordStrength === 'medium')" class="tooltip">
        <div class="tooltip-arrow"></div>
        Your password is easy to guess. Try to add more different characters.
      </div>
    </div>
  </div>
</div>